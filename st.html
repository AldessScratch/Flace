<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Flace | Paramètres</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" id="themestyle" href="themes/auto.css">
    <link rel="icon" type="image/x-icon" href="./img/faviconcolor-fixed.png">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="description" content="Flace est un site d’apprentissage fondé sur l’utilisation de flashcards.">
</head>
<body>
    <!-- noel -->
    <ul class="lightrope" id="lightrope">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
      </ul>
     <!-- navbar -->
     <div class="navbar" id="navbar">
        <div class="brand">
            <img onclick="location.href = './'" src="img/faviconcolor-fixed.png" alt="flacelogo">
            <div onclick="location.href = './'" class="brandname">Fla<div class="question">?</div>e</div>
        </div>
        <div class="center">
            <div class="matiere">Paramètres</div>
        </div>
        <div class="right">
            <div onclick="location.href = './'" class="navbaricon">
                <img src="img/faviconcolor-fixed.png" alt="flacelogo">
                <div class="icontitle">Accueil</div>
            </div>
            <div onclick="location.href = 'matiere.html'" class="navbaricon">
                <i class="bx bx-grid-alt"></i>
                <div class="icontitle">Matières</div>
            </div>
            <div  onclick="location.href = 'st.html'" class="navbaricon">
                <i class='hover bx bx-cog'></i>
                <div class="icontitle">Réglages</div>
            </div>
            <div onclick="location.href = 'info.html'" class="navbaricon">
                <i class='bx bx-info-circle'></i>
                <div class="icontitle">Infos</div>
            </div>
            <div class="time">00:00</div>
        </div>
    </div>
    <div class="home">
        <i id="navbaricon" class="hamburger bx bx-menu-alt-left" onclick="document.getElementById('navbar').classList.toggle('active');document.getElementById('navbaricon').classList.toggle('active')"></i>
        <div class="cards st" >
            <div class="param">
                <h8><i class='bx bx-paint'></i> Thème du site</h8>
                <h6>Change l'apparence de Flace</h6>
                <select name="themeselect" id="themeselect">
                    <option value="auto">Auto</option>
                    <option value="light">Clair</option>
                    <option value="dark">Sombre</option>
                </select>
                <script>
                    function initThemeSelector () {
                    const themeSelect = document.getElementById("themeselect")
                    const themestyle = document.getElementById("themestyle")
                    const currentTheme = localStorage.getItem("theme") || "auto";
    
                    function activateTheme(cssname) {
                        themestyle.setAttribute("href", `themes/${cssname}.css`);
                    }
    
                    themeSelect.addEventListener("change", () => {
                        activateTheme(themeSelect.value);
                        localStorage.setItem("theme", themeSelect.value)
                    });
    
                    themeSelect.value = currentTheme;
    
                    activateTheme(currentTheme)
                    }
                    initThemeSelector();
                 </script>
            </div>
            <div class="param" >
                <h8><i class='bx bx-book-open'></i> Matière préférée</h8>
                <h6>Change la première matière affichée dans l'accueil</h6>
                <select name="select" id="matiereselect">
                    <option value="0">Mathématiques</option>
                    <option value="1">Anglais</option>
                    <option value="2">Espagnol</option>
                    <option value="3">Histoire</option>
                </select>
                <script>
                    function initselector(){
                        const currentmatiere = localStorage.getItem("matierepref") || 1;
                       const matiereselect = document.getElementById('matiereselect')
                       matiereselect.addEventListener("change", () => {
                           localStorage.setItem("matierepref", matiereselect.value)
                       });
                       matiereselect.value = currentmatiere;
                    }
                    initselector()
               </script>
            </div>
            
        </div>

     <!-- Script pour l'heure -->



     <script>
        const timeElement = document.querySelector(".time");
    function formatTime(date) {
      const hours12 = date.getHours() % 24 || 24;
      const minutes = date.getMinutes();
      return `${hours12.toString().padStart(2, "0")}:${minutes
        .toString()
        .padStart(2, "0")}`;
    }
    setInterval(() => {
      const now = new Date();
      timeElement.textContent = formatTime(now);
    }, 200);
    
        </script>
       <script src="js/main.js"></script>
</body>
</html>
