<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Flace | Infos</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" id="themestyle" href="themes/auto.css">
    <link rel="icon" type="image/x-icon" href="./img/faviconcolor-fixed.png">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="description" content="Flace est un site d’apprentissage fondé sur l’utilisation de flashcards.">
  </head>
  <body>
    <!-- noel -->
    <ul class="lightrope">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
    <!-- navbar -->
    <div class="navbar" id="navbar">
      <div class="brand">
        <img class="hover" onclick="location.href = './'" src="img/faviconcolor-fixed.png" alt="flacelogo">
        <div onclick="location.href = './'" class="brandname">Fla <div class="question">?</div>e </div>
      </div>
      <div class="right">
        <div onclick="location.href = './'" class="navbaricon">
          <i class="bx bx-home "></i>
          <div class="icontitle">Accueil</div>
        </div>
        <div onclick="location.href = 'matiere.html'" class="navbaricon">
          <i class="bx bx-grid-alt"></i>
          <div class="icontitle">Matières</div>
        </div>
        <div onclick="location.href = 'st.html'" class="navbaricon">
          <i class='bx bx-cog'></i>
          <div class="icontitle">Réglages</div>
        </div>
        <div onclick="location.href = 'info.html'" class="navbaricon">
          <i class='bx hover bx-info-circle'></i>
          <div class="icontitle">Infos</div>
        </div>
        <div class="time">00:00</div>
      </div>
    </div>
    <div class="home">
      <i id="navbaricon" class="hamburger bx bx-menu-alt-left" onclick="document.getElementById('navbar').classList.toggle('active');document.getElementById('navbaricon').classList.toggle('active')"></i>
      <div class="homething">
        <img class="infoimg" src="img/faviconcolor-fixed.png" alt="flacelogo">
        <div class="info">Flace est un site d’apprentissage fondé sur l’utilisation de flashcards. <no>Le site s’adapte à ses utilisateurs via un système de piles</no> (pas encore) inspiré de la méthode <a target="_blank" href="https://fr.wikipedia.org/wiki/Système_Leitner">Leitner</a>, permettant un apprentissage durable. Flace, Long-term learning. </div>
        <div class="info">
          <strong>Attention:</strong> Flace ne remplace en aucun cas votre cahier de cours !
        </div>
        <div class="info">Idée de A. 19 <br>Developpé par A. H. <br>Contributeurs: L. D. et T. H-L. <br>Inspiré de Google Material UI </div>
        <div class="version">Rv23.1203</div>
        <div class="info" onclick="document.getElementById('contact').classList.toggle('active')">
          <strong>Effectuer une suggestion ou report un problème</strong>
        </div>
        <div class="Contact" id="contact">
          <textarea maxlength="2000" id="InputField" placeholder="Votre message ici"></textarea>
          <button onclick="send()" id="SendMessage">Envoyer votre message</button>
          <h3 id="MessageSent">Votre message a été envoyé!</h3>
          <h3 id="MessageFailed">Echec de l'envoi!</h3>
        </div>
      </div>
      <!-- taches d'encre stylé -->
      <div class="shapes">
        <div class="shape color1"></div>
        <div class="shape color2"></div>
        <div class="shape color3"></div>
      </div>
    </div>
    <script>
      // script pour formulaire par discord
      whurl = "https://discord.com/api/webhooks/1178779338292867114/7i7717028JqfI_0iYegSbQEWfaUF9D-th-tmfAnKJu65nK3XasvcJqYU34YWZauG-nos"
      var str = "";
      var name = "";

      function f1() {
        str = document.getElementById("InputField").value;
        console.log(document.getElementById("InputField").value)
      }

      function send() {
        f1();
        const msg = {
          "content": str,
          "username": localStorage.getItem('username')
        };
        console.log(msg)
        if (str == "") {
          document.getElementById("Message1").style.opacity = 1;
          setTimeout(function() {
            document.getElementById("Message1").style.opacity = 0;
          }, 4000)
          console.log("ERROR")
          return;
        }
        try {
          fetch(whurl + "?wait=true", {
            "method": "POST",
            "headers": {
              "content-type": "application/json"
            },
            "body": JSON.stringify(msg)
          });
          document.getElementById("InputField").value = "";
          document.getElementById("MessageSent").style.opacity = 1;
          setTimeout(function() {
            document.getElementById("MessageSent").style.opacity = 0;
          }, 4000)
        } catch (e) {
          document.getElementById("MessageFailed").style.opacity = 1;
          setTimeout(function() {
            document.getElementById("MessageFailed").style.opacity = 0;
          }, 4000)
        }
      }
    </script>
    <!-- Script pour l'heure -->
    <script>
      const timeElement = document.querySelector(".time");

      function formatTime(date) {
        const hours12 = date.getHours() % 24 || 24;
        const minutes = date.getMinutes();
        return `${hours12.toString().padStart(2, "0")}:${minutes
        .toString()
        .padStart(2, "0")}`;
      }
      setInterval(() => {
        const now = new Date();
        timeElement.textContent = formatTime(now);
      }, 200);
    </script>
    <script>
      document.getElementById("themestyle").setAttribute("href", `themes/${localStorage.getItem("theme")}.css`);
    </script>
    <script src="js/main.js"></script>
  </body>
</html>