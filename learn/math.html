<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/x-icon" href="../img/logo.png">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="description" content="Flace(cards) est un site d’apprentissage fondé sur l’utilisation de flashcards préparées aux préalable dans toutes les matières. Le site s’adapte à ses utilisateurs via un système de piles inspiré de la méthode Leitner, permettant un apprentissage durable (prouvé scientifiquement). FlaceCards, Long-term learning.">
</head>
<body>
    
    <div class="home">
        <!-- container des flashcards -->
        <div class="cards" id="cardscontainer">
        </div>
    </div>
    <div class="modal" id="modal">
        <div class="modal-header">
          <div id="popuptitle" class="title"></div>
          <i data-close-button class="bx bx-x close-button"></i>
        </div>
        <div class="modal-body">
            <div id="popupcontent" class="content">
                Un nombre entier est divisible <strong>par</strong> 2 si son chiffre des unités est 0; 2; 4; 6 ou 8
            </div>
            <img src="../img/math/vocdivision.png">
        </div>
      </div>   
    <!-- overlay du popup pour le flou et pour detecter le clique dehors -->
    <div id="overlay" class="overlay"></div>
    <!-- js du modal -->
    <script src="modal.js"></script>
    <!-- code pour fetch le json et creer une flashcard -->
    <script>
        // Le code recupère les données depuis le .json
        const jsonUrl = './api/math.json';
        fetch(jsonUrl).then(response => response.json()).then(data => {
          const cardscontainer = document.getElementById('cardscontainer');
          const rendercards = (cards) => {
            // quand il a recup les données, il crée un flashcard
            cards.forEach(cards => {
              const card = document.createElement('div');
              const innercard = document.createElement('div');
              const type = document.createElement('h2');
              const title = document.createElement('h5');
              
              title.setAttribute('id', 'title')
              type.setAttribute('id', 'type')
              title.innerHTML = cards.title.toUpperCase()
              type.innerHTML = cards.type + ' :'
              card.setAttribute('data-modal-target', '#modal')
              card.classList.add('card');
              innercard.classList.add('innercard');
              document.getElementById('popuptitle').innerHTML = cards.title
              document.getElementById('popupcontent').innerHTML = cards.content


              cardscontainer.appendChild(card);
              card.appendChild(innercard);
              innercard.appendChild(type);
              innercard.appendChild(title);
            });
          };
          rendercards(data);
        }).catch(error => console.error('Error fetching cards:', error));
      </script>
</body>
</html>